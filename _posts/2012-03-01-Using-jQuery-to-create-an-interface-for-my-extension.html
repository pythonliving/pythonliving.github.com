---
layout: post
title: Using jQuery to create an interface for my extension 
tags: 2012, Programming, CSP Schedule Converter
---

<p><strong id="internal-source-marker_0.3584490509238094"><span style="font-size: 15px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;">The first multiple pieces of setting up my Schedule Converter was creating functions that would process the information on the screen and convert them into csv and ics formats for calendar upload. &nbsp;Now it&rsquo;s time to create the part of my file that actually interacts with the webpage, and allows you to access the other functions I&rsquo;ve made. &nbsp;To do this I&rsquo;ve used a variety of </span><a style="font-family: 'Times New Roman'; font-size: medium;" href="http://jquery.com/"><span style="font-size: 15px; font-family: Arial; color: #1155cc; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;">jQuery</span></a><span style="font-size: 15px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;"> functions. &nbsp;</span><br /><br /> </strong></p>
<p style="font-family: 'Times New Roman'; font-size: medium; margin-left: 36pt; margin-top: 0pt; margin-bottom: 0pt;" dir="ltr"><strong id="internal-source-marker_0.3584490509238094"><span style="font-size: 13px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;">$j(document).ready(function(){</span></strong></p>
<p><strong id="internal-source-marker_0.3584490509238094">
<p style="font-family: 'Times New Roman'; font-size: medium; margin-left: 36pt; margin-top: 0pt; margin-bottom: 0pt;" dir="ltr"><span style="font-size: 13px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;$j('.boxLight div:last-child')[1].insertAdjacentHTML('beforeend', "&lt;button id='downloadcalendar' style='width: 140px'&gt;Download Calendar&lt;/button&gt; &lt;br&gt;");</span></p>
<p style="font-family: 'Times New Roman'; font-size: medium; margin-left: 36pt; margin-top: 0pt; margin-bottom: 0pt;" dir="ltr"><span style="font-size: 13px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;$j('#downloadcalendar').click(function(){</span></p>
<p style="font-family: 'Times New Roman'; font-size: medium; margin-left: 36pt; margin-top: 0pt; margin-bottom: 0pt;" dir="ltr"><span style="font-size: 13px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ($j('#popupcalendar').length &gt; 0){</span></p>
<p style="font-family: 'Times New Roman'; font-size: medium; margin-left: 36pt; margin-top: 0pt; margin-bottom: 0pt;" dir="ltr"><span style="font-size: 13px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$j('#popupcalendar').css({'display':'block'}); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p style="font-family: 'Times New Roman'; font-size: medium; margin-left: 36pt; margin-top: 0pt; margin-bottom: 0pt;" dir="ltr"><span style="font-size: 13px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else...</span></p>
<p style="font-family: 'Times New Roman'; font-size: medium; margin-left: 36pt; margin-top: 0pt; margin-bottom: 0pt;" dir="ltr"><span style="font-size: 13px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;"> });</span></p>
<p style="font-family: 'Times New Roman'; font-size: medium; margin-left: 36pt; margin-top: 0pt; margin-bottom: 0pt;" dir="ltr"><span style="font-size: 13px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;">});</span></p>
<br /><span style="font-size: 15px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;">To begin with I use </span><a style="font-family: 'Times New Roman'; font-size: medium;" href="http://api.jquery.com/ready/"><span style="font-size: 15px; font-family: Arial; color: #1155cc; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;">.ready()</span></a><span style="font-size: 15px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;"> which calls a specific function once the page has fully loaded. &nbsp;I fill </span><span style="font-size: 15px; font-family: Arial; background-color: transparent; vertical-align: baseline; white-space: pre-wrap;">.ready()</span><span style="font-size: 15px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;"> with a function that does some HTML adjustments and buttons that call the </span><span style="font-size: 15px; font-family: Arial; background-color: transparent; vertical-align: baseline; white-space: pre-wrap;">createcsv()</span><span style="font-size: 15px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;"> and </span><span style="font-size: 15px; font-family: Arial; background-color: transparent; vertical-align: baseline; white-space: pre-wrap;">createics()</span><span style="font-size: 15px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;"> functions explained previously. &nbsp;When I started creating this part of the extension, I decided I wanted the initial adjustments to the screen to flow with the page layout already. &nbsp;Therefore I simply added in another button with the same style as the others, and I put it with the other related buttons in the Team Tools box.</span><br /><br /><span style="font-size: 15px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;">&lt;insert pic from file &lsquo;before&rsquo;&gt;</span><br /><span style="font-size: 15px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;"> </span><br /><span style="font-size: 15px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;">This was fairly simply to do using something from HTML5. &nbsp;By using </span><a style="font-family: 'Times New Roman'; font-size: medium;" href="http://hacks.mozilla.org/2011/11/insertadjacenthtml-enables-faster-html-snippet-injection/"><span style="font-size: 15px; font-family: Arial; color: #1155cc; background-color: transparent; vertical-align: baseline; white-space: pre-wrap;">.insertAdjacentHTML()</span></a><span style="font-size: 15px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;"> I was able to indicate where I wanted the new bit of HTML to go, what I wanted it to look like, and any text that was to be entered. &nbsp;Thus the button that didn&rsquo;t exist in the above mentioned photo, once the extension is loaded into your browser, will insert this button shown below:</span><br /><br /><span style="font-size: 15px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;">&lt;insert pic from file &lsquo;after&rsquo;&gt;</span><br /><br /><span style="font-size: 15px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;">Once the button is displayed, the user can click on it. &nbsp;Once a click occurs, the </span><span style="font-size: 15px; font-family: Arial; background-color: transparent; vertical-align: baseline; white-space: pre-wrap;">.click()</span><span style="font-size: 15px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;"> function runs. &nbsp;This will begin with using the </span><a style="font-family: 'Times New Roman'; font-size: medium;" href="http://api.jquery.com/length/"><span style="font-size: 15px; font-family: Arial; color: #1155cc; background-color: transparent; vertical-align: baseline; white-space: pre-wrap;">.length</span></a><span style="font-size: 15px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;"> property which determines if the current length of the jQuery array is more than zero. &nbsp;This is done to prevent the code from continuously recreating the </span><span style="font-size: 15px; font-family: Arial; background-color: transparent; vertical-align: baseline; white-space: pre-wrap;">popupcalendar</span><span style="font-size: 15px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;">. &nbsp;Basically if </span><span style="font-size: 15px; font-family: Arial; background-color: transparent; vertical-align: baseline; white-space: pre-wrap;">popupcalendar</span><span style="font-size: 15px; font-family: Arial; background-color: transparent; font-weight: normal; vertical-align: baseline; white-space: pre-wrap;"> has already been created, the length will be more than zero and at this time it will simply adjust the css to show the element again by making the display equal to block. &nbsp;Otherwise it will create the element for the first time. &nbsp;&nbsp;&nbsp;</span><br /><br /><span style="font-size: 15px; font-family: Arial; background-color: transparent; text-decoration: underline; vertical-align: baseline; white-space: pre-wrap;">Up Next Time: Displaying the inserted HTML after a button click </span></strong></p>
<p>&nbsp;</p>